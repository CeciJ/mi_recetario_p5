{% extends 'base.html.twig' %}

{% block title %}MealPlanning{% endblock %}

{% block body %}

<div class="container">
    <h1>MealPlanning</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ meal_planning.id }}</td>
            </tr>
            <tr>
                <th>BeginAt</th>
                <td>{{ meal_planning.beginAt ? meal_planning.beginAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>Title</th>
                <td>{{ meal_planning.title }}</td>
            </tr>
            <tr>
                <th>EndAt</th>
                <td>{{ meal_planning.endAt ? meal_planning.endAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
        </tbody>
    </table>

    <div class="card mb-4">
    {% if recipe.picture %}
        <img src="{{ vich_uploader_asset(recipe.picture, "imageFile") | imagine_filter('thumb') }}" style="width: 100%; height: auto;" alt="card-img-top">
    {% else %}
        <img src="{{ "empty.jpg" | imagine_filter('thumb') }}" style="width: 100%; height: auto;" alt="card-img-top">
    {% endif %}
    <div class="card-body">
        <h5 class="card-title">
            <a href="{{ path('recipe.show', {id: recipe.id, slug: recipe.slug}) }}">{{ recipe.name }}</a>
        </h5>
        <ul>
            <li class="card-text">
                {% for dishType in recipe.DishTypes %}
                    {{ dishType.name }}
                {% endfor %}
            </li>
            <li class="card-text">Temps de préparation : {{ recipe.totalTime }} minutes</li>
            <li class="card-text">Pour {{ recipe.numberPersons }} {% if recipe.numberPersons > 1 %} personnes {% else %} personne {% endif %}</li>
        </ul>
    </div>
</div>

    <a href="{{ path('meal_planning.index') }}" class="btn btn-primary">Revenir à la liste</a>

    <a href="{{ path('meal_planning.edit', {'id': meal_planning.id}) }}" class="btn btn-primary">Éditer</a>

    {{ include('meal_planning/_delete_form.html.twig') }}
</div>

{% endblock %}
